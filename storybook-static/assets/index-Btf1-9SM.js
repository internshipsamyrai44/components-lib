import{r as p,a as O,R as l}from"./index-BYqfdl9-.js";import{u as _,c as D}from"./index-Dks5pEMs.js";import{u as E,S as A}from"./index-Dc00g9Il.js";import{j as m}from"./jsx-runtime-DcL3VY2S.js";var g=O.useId||(()=>{}),j=0;function b(t){const[o,u]=p.useState(g());return _(()=>{u(f=>f??String(j++))},[t]),t||(o?`radix-${o}`:"")}function k(t){const o=t+"CollectionProvider",[u,f]=D(o),[N,d]=u(o,{collectionRef:{current:null},itemMap:new Map}),C=n=>{const{scope:e,children:i}=n,r=l.useRef(null),c=l.useRef(new Map).current;return m.jsx(N,{scope:e,itemMap:c,collectionRef:r,children:i})};C.displayName=o;const R=t+"CollectionSlot",x=l.forwardRef((n,e)=>{const{scope:i,children:r}=n,c=d(R,i),s=E(e,c.collectionRef);return m.jsx(A,{ref:s,children:r})});x.displayName=R;const S=t+"CollectionItemSlot",I="data-radix-collection-item",M=l.forwardRef((n,e)=>{const{scope:i,children:r,...c}=n,s=l.useRef(null),v=E(e,s),a=d(S,i);return l.useEffect(()=>(a.itemMap.set(s,{ref:s,...c}),()=>void a.itemMap.delete(s))),m.jsx(A,{[I]:"",ref:v,children:r})});M.displayName=S;function T(n){const e=d(t+"CollectionConsumer",n);return l.useCallback(()=>{const r=e.collectionRef.current;if(!r)return[];const c=Array.from(r.querySelectorAll(`[${I}]`));return Array.from(e.itemMap.values()).sort((a,y)=>c.indexOf(a.ref.current)-c.indexOf(y.ref.current))},[e.collectionRef,e.itemMap])}return[{Provider:C,Slot:x,ItemSlot:M},T,f]}var L=p.createContext(void 0);function q(t){const o=p.useContext(L);return t||o||"ltr"}export{q as a,k as c,b as u};
